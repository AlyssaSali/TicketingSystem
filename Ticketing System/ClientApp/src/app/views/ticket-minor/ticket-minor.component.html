<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">

   <!-- Main content -->
   <section class="content">
      <!-- TABLE: LATEST ORDERS -->
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Minor Request</h3> 
        </div>
  <!-- /.box-header -->
          <div class="box-body">
                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-hover table-striped">
                    <thead>
                      <tr>
                        <th style="width: 19%"><strong>TicketNo.</strong></th>
                        <th style="width: 5%"><strong>Office</strong></th>
                        <th style="width: 10%"><strong>Request Category</strong></th>
                        <th style="width: 15%"><strong>RequestedBy</strong></th>
                        <th style="width: 10%"><strong>TaskedTo</strong></th>
                        <th style="width: 10%"><strong>Date</strong></th>
                        <th style="width: 10%"><strong>Time</strong></th>
                        <th style="width: 5%"><strong>Status</strong></th>
                        <th style="width: 10%"><strong>Action</strong></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ticketMinor of ticketMinorList; let i = index">
                        <th style="font-weight: lighter; width: 15%"><a (click)="viewDetails(ticketMinor)" data-toggle="tooltip" data-placement="bottom">{{ticketMinor.ticketMinorid}}</a></th>
                        <th style="font-weight: lighter; width: 5%">{{ticketMinor.office.officeCode}}</th>
                        <th style="font-weight: lighter; width: 10%">{{ticketMinor.categoryList.categoryListName}}</th>
                        <!-- <th style="font-weight: lighter; width: 15%"><span *ngFor="let requester of requesterList">{{requester.fullName}}</span></th>
                        <th style="font-weight: lighter; width: 15%"><span *ngFor="let worker of workerList">{{worker.fullName}}</span></th> -->
                        <th style="font-weight: lighter; width: 15%"><span *ngFor="let employee of employeeList">{{employee.employeeID === ticketMinor.requesterid ? employee.fullName : ''}}</span></th>
                        <th style="font-weight: lighter; width: 15%"><span *ngFor="let employee of employeeList">{{employee.employeeID === ticketMinor.workByid ? employee.fullName : ''}}</span></th>
                        <th style="font-weight: lighter; width: 10%">{{ticketMinor.dateOfRequest | date:'MM/dd/yyyy'}}</th>
                        <th style="font-weight: lighter; width: 10%">{{ticketMinor.timeOfRequest | date:'h:mm a'}}</th>
                        <th style="font-weight: lighter; width: 5%">{{ticketMinor.status}}</th>
                        <td style="font-weight: lighter; width: 10%;">
                            <div class="row">
                                <button class="btn-success" (click)="update(ticketMinor)" data-toggle="tooltip" data-placement="bottom" title="Edit severity">
                                        <i class="glyphicon glyphicon-pencil"></i>Update
                                </button>
                            </div> 
                            </td>
                      </tr>
                    </tbody>
                </table>
          </div>

          <div class="box-footer clearfix">
            <a [routerLink]="[ '/ticketHistory']" class="btn btn-sm btn-default btn-flat pull-right">View All Tickets</a>
            <a (click)="loadPage()" class="btn btn-sm btn-info btn-flat pull-left">Create Minor Request</a>
          </div>
      </div>
   </section>
   
</div>
